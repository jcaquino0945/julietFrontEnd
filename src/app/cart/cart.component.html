<nav *ngIf="nav.visible"></nav>
<ribbon *ngIf="ribbon.visible"></ribbon>
<footer *ngIf="footer.visible"></footer>

<div class="container" *ngIf="items">
  <div class="row section">
    <div class="col-7 mx-3">
      <h5>Shopping Cart</h5>
      <div class="d-flex my-3" *ngFor="let item of items">
        <div class="align-self-center">
          <img
            src="https://i.imgur.com/HGYgGAq.jpg"
            class="mr-3 img-responsive img-thumbnail"
          />
        </div>
        <div class="align-self-center">
          {{ item.name }}
          <div class="details">Size: {{ item.size }}</div>
          <div class="py-2">
            <select
              class="form-select form-select-sm"
              aria-label=".form-select-sm example"
              [(ngModel)]="quantity"
              (change)="updatePrice(item, quantity.value)"
            >
              <option selected disabled>Qty</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
          </div>
        </div>
        <div class="ml-auto align-self-center">Php {{ item.totalPrice }}</div>
      </div>
    </div>
    <div class="col mx-3" *ngIf="totalPrice">
      <div class="card">
        <div class="card-body">
          <div class="card-text" *ngIf="itemPrice">
            <div class="d-flex justify-content-between">
              <div>Order value</div>
              <div>Php {{ itemPrice }}</div>
            </div>
            <div
              class="d-flex justify-content-between"
              *ngIf="itemPrice"
            >
              <div>Shipping</div>
              <div>Calculated at next step</div>
            </div>
            <hr />
            <div class="d-flex justify-content-between">
              <div>
                <h6>Total</h6>
              </div>
              <div>
                <h6>Php {{ totalPrice }}</h6>
              </div>
            </div>
          </div>
          <button type="button" class="btn-proceed" routerLink="/checkout">
            Proceed to Checkout
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
