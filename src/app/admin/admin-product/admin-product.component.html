<div class="d-flex justify-content-between align-items-center flex-wrap">
  <h3>Products</h3>
  <form class="form-inline">
    <!-- add new product modal button trigger -->
    <button
      type="button"
      class="btn btn-dark mr-2"
      data-toggle="modal"
      data-target="#modal"
    >
      Add new
    </button>
    <input class="form-control mr-2" type="search" placeholder="Search" />
    <button class="btn btn-outline-dark my-2 my-sm-0" type="submit">
      Search
    </button>
  </form>
</div>

<!-- add new product modal -->
<div class="modal fade" id="modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Add new product</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form [formGroup]="galleryForm" (ngSubmit)="onFormSubmit()">
          <div class="form-row">
            <input type="text" class="form-control" placeholder="Name" />
          </div>
          <div class="form-row">
            <textarea class="form-control" placeholder="Description"></textarea>
          </div>
          <div class="form-row">
            <select class="form-select">
              <option selected disabled>Select category</option>
              <option value="Necklace">Necklace</option>
              <option value="Bracelet">Bracelet</option>
              <option value="Earring">Earring</option>
              <option value="Ring">Ring</option>
            </select>
          </div>
          <div class="form-row">
            <div class="custom-file">
              <input type="file" class="custom-file-input" />
              <label class="custom-file-label" for="customFile"
                >Choose image</label
              >
            </div>
          </div>
          <div class="form-row">
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">Php</span>
              </div>
              <input type="text" class="form-control" placeholder="Price" />
              <div class="input-group-append">
                <span class="input-group-text">.00</span>
              </div>
            </div>
          </div>
          <div class="form-row">
            <input type="number" class="form-control" placeholder="Stock quantity" />
          </div>
          <div class="form-row">Add available sizes</div>
          <div class="form-row" *ngFor="let size of dataArray; let i = index">
            <div class="col p-0">
              <input
                class="form-control"
                type="text"
                name="size{{ i }}"
                placeholder="Size"
                [(ngModel)]="size.size"
              />
            </div>
            <div class="col">
              <button class="btn btn-dark mr-1" (click)="addSize()">Add</button>
              <button class="btn btn-danger" (click)="removeSize(i)">
                Remove
              </button>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" data-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-dark">Save changes</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="products$">
  <div class="card my-2" *ngFor="let product of products$; let i = index">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center flex-wrap">
        <img src="https://i.imgur.com/gEdYbSe.jpg" width="100px" />
        <div class="mr-auto ml-3">
          {{ product.name }} <br />
          {{ product.price }} <br />
          In stock
        </div>
        <div class="align-self-start">
          <button
            class="btn p-0"
            [routerLink]="['/admin/adminProduct/', product._id]"
          >
            <i class="far fa-edit"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<!-- <div
  class="modal"
  id="exampleModalCentered"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalCenteredLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenteredLabel">Modal title</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">
        <mat-card>
          <form [formGroup]="galleryForm" (ngSubmit)="onFormSubmit()">
            <mat-form-field>
              <mat-label>Product Image</mat-label>
              <ngx-mat-file-input
                formControlName="imageFile"
                placeholder="Select Image"
                valuePlaceholder="No image file selected"
                [errorStateMatcher]="matcher"
              ></ngx-mat-file-input>
              <mat-error>
                <span *ngIf="!galleryForm.get('imageFile').valid"
                  >Please select image file</span
                >
              </mat-error>
            </mat-form-field>
            <br />
            <mat-form-field>
              <mat-label>Product Name</mat-label>
              <input
                matInput
                placeholder="Product Name"
                formControlName="name"
                [errorStateMatcher]="matcher"
              />
              <mat-error>
                <span
                  *ngIf="
                    !galleryForm.get('name').valid &&
                    galleryForm.get('name').touched
                  "
                  >Please enter product name</span
                >
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Product Description</mat-label>
              <input
                matInput
                placeholder="Product Description"
                formControlName="description"
                [errorStateMatcher]="matcher"
              />
              <mat-error>
                <span
                  *ngIf="
                    !galleryForm.get('description').valid &&
                    galleryForm.get('description').touched
                  "
                  >Please enter product description</span
                >
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Product Price</mat-label>
              <input
                matInput
                placeholder="Product Price"
                formControlName="price"
                [errorStateMatcher]="matcher"
                type="number"
              />
              <mat-error>
                <span
                  *ngIf="
                    !galleryForm.get('price').valid &&
                    galleryForm.get('price').touched
                  "
                  >Please enter product price</span
                >
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Product Category</mat-label>
              <input
                matInput
                placeholder="Product Category"
                formControlName="category"
                [errorStateMatcher]="matcher"
              />
              <mat-error>
                <span
                  *ngIf="
                    !galleryForm.get('category').valid &&
                    galleryForm.get('category').touched
                  "
                  >Please enter product category</span
                >
              </mat-error>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Stock Quantity</mat-label>
              <input
                matInput
                formControlName="stock_quantity"
                [errorStateMatcher]="matcher"
                value="0"
                type="number"
              />
              <mat-error>
                <span
                  *ngIf="
                    !galleryForm.get('stock_quantity').valid &&
                    galleryForm.get('stock_quantity').touched
                  "
                  >Please enter product stock quantity</span
                >
              </mat-error>
            </mat-form-field>

            <mat-slide-toggle formControlName="featured"
              >Featured</mat-slide-toggle
            >

            <div class="button-row">
              <button type="submit" mat-flat-button color="primary"></button>
            </div>

            <div class="button-row">
              <button type="submit" mat-flat-button color="primary">Add</button>
            </div>
            <div class="button-row">
              <button type="reset">Clear</button>
            </div>
          </form>
        </mat-card>
      </div>
      <div class="modal-footer">
        <button
          type="button"
          class="btn btn-secondary"
          data-dismiss="modal"
          id="close"
        >
          Close
        </button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div> -->
